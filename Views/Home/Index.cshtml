@{
    ViewBag.Title = "Login";
}
@Scripts.Render("~/bundles/Register")
<link href="~/Content/Home.css" rel="stylesheet">
<div id="main-wrapper" class="container">
    <div class="row justify-content-center">
        <div class="col-xl-10">
            <div class="card border-2">
                <div class="card-body p-1">
                    <div class="row no-gutters">
                        <div class="col-lg-6 justify-content-center">
                            <div class="p-5">
                                <div class="mb-5">
                                    <h3 style="color:steelblue" class="h4 font-weight-bold  ">Bienvenido al sistema SIPYME</h3>
                                </div>

                                <h6 class="h5 mb-0">Iniciar Sesión</h6>
                                <p class="text-muted mt-2 mb-5">Digite su correo y contraseña para acceder al sistema</p>

                                <form id="registration-form" action="@Url.Action("Login","Home")" method="post">
                                    <div class="form-floating ">
                                        <input type="email" class="form-control form-control-sm" name="correo" id="correo" placeholder="Correo electrónico">
                                        <label for="correo">Correo electrónico</label>

                                    </div>
                                    <div class="form-floating mb-5 mt-3">

                                        <input type="password" class="form-control" id="password" name="contrasena" placeholder="Contraseña">
                                        <label for="password">Contraseña</label>
                                    </div>

                                    @if (ViewData["Mensaje"] != null)
                                    {
                                        <div class="alert alert-danger text-center" role="alert">
                                            @ViewData["Mensaje"]
                                        </div>
                                        
                                    }

                                    <div class="text-center">
                                        <button id="registration-btn" type="submit" class="btn btn-theme">Ingresar</button>
                                    </div>



                                </form>
                            </div>
                        </div>

                        <div class="col-lg-6 d-none d-lg-inline-block " style="margin-top:150px; ">
                            <img src='~/Imagenes/logo_transparent.png' width="350" alt='Sistema de Patentes San Pablo' />
                        </div>

                    </div>

                </div>
                <!-- end card-body -->
            </div>
            <!-- end card -->

            <p class="text-muted text-center mt-3 mb-0">No tienes una cuenta? <a href='@Url.Action("RegistrarUsuarioExterno", "Home")' class="text-primary ml-1">Regístrate</a></p>

            <!-- end row -->

        </div>
        <!-- end col -->
    </div>
    <!-- Row -->
</div>

<script>
    document.getElementById("registration-btn").onclick = function () {
        // Obtener los valores de los campos del formulario

        var email = document.getElementById("correo").value;

        var password = document.getElementById("password").value;


        // Validar los campos requeridos
        var errorMessage = "";

        if (email == "") {
            errorMessage += "Debe ingresar su correo electrónico.\n";
       

        if (password == "") {
            errorMessage += "Debe ingresar una contraseña.\n";
       

        // Mostrar el mensaje de error o enviar el formulario
        if (errorMessage != "") {
            alert(errorMessage);
        } else {
            document.getElementById("registration-form").submit();
        }
    };


  /*
    const email = document.getElementById("correo");
    const errorCorreo = document.getElementById("invalid-email");
    email.addEventListener("blur", function () {
        if (!email.value) {
            email.classList.add("is-invalid");
            errorCorreo.textContent = "Por favor ingrese un correo electrónico valido"
        } else if (!esCorreo(email.value)) {
            email.classList.add("is-invalid");
            errorCorreo.textContent = "Por favor ingrese un correo electrónico valido"
        } else {
            email.classList.remove("is-invalid");
        }
    });

   

    const password = document.getElementById("password");
    const errorPassword = document.getElementById("invalid-password");
    password.addEventListener("blur", function () {
        if (!password.value) {
            errorPassword.textContent = "Por favor digite su contraseña"
            password.classList.add("is-invalid");
        } else if (!esContrasena(password.value)) {
            password.classList.add("is-invalid");
            errorPassword.textContent = "La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula y un número"
        } else {
            password.classList.remove("is-invalid");
        }
    });

*/


</script>
